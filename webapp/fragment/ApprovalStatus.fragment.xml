<core:FragmentDefinition xmlns="sap.m"
    xmlns:table="sap.ui.table"
    xmlns:core="sap.ui.core">
    <VBox id="commonApprovalStatusBox" class="vCardBox" visible="{/settings/visible}" busy="true" busyIndicatorDelay="0">
        <HBox class="table-toolbar">
            <HBox class="title">
                <Title level="H2" text="{i18n>LABEL_00169}" />
            </HBox>
            <HBox class="table-actions" visible="{/settings/activeInput}">
                <Button icon="sap-icon://add" text="{i18n>LABEL_00229}" press=".onRefAdd" />
                <Button icon="sap-icon://less" text="{i18n>LABEL_00230}" press=".onRefDel" />
            </HBox>
        </HBox>
        <table:Table id="commonApprovalStatusTable" width="100%" enableSelectAll="false" selectionMode="{= ${/settings/activeInput} ? 'MultiToggle' : 'None'}" columnHeaderHeight="45" rowHeight="44" visibleRowCount="{/rowCount}" rows="{/list}" noData="{i18n>MSG_00001}">
            <table:columns>
                <table:Column width="4%">
                    <Label text="No"/>
                    <table:template>
                        <Text text="{ path: 'Seqnr', type: 'sap.ui.tesna.mvc.model.type.Pernr' }" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="4%">
                    <Label text="{i18n>LABEL_00147}"/>
                    <table:template>
                        <Text text="{Lintytx}" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="10%">
                    <Label text="{i18n>LABEL_00210}"/>
                    <table:template>
                        <VBox>
                            <HBox justifyContent="Center" alignItems="Center" visible="{= !${/settings/activeInput} || ${Linty} !== '40' }">
                                <Image src="{Perpic}" class="member-photo mt-4-px" mode="Background" width="34px" height="34px" error=".loadErrorAvatarImage" />
                                <Text text="{Ename}" width="100%" textAlign="Center" class="ml-4-px" />
                            </HBox>
                            <HBox justifyContent="Center" alignItems="Center" visible="{= ${/settings/activeInput} &amp;&amp; ${Linty} === '40' }">
                                <Image src="{Perpic}" class="member-photo mt-4-px mr-4-px" mode="Background" width="34px" height="34px" error=".loadErrorAvatarImage" />
                                <Input value="{Ename}" textAlign="Begin" width="100%" maxSuggestionWidth="500px" showSuggestion="true" showTableSuggestionValueHelp="false" suggestionRows="{ path:'/settings/Employees', templateShareable: false }" busyIndicatorDelay="0" busy="{/contentsBusy/search}" suggestionItemSelected=".onApprovalRefSelectSuggest" submit=".onApprovalRefSubmitSuggest">
                                    <suggestionColumns>
                                        <Column width="6%" popinDisplay="Inline">
                                            <Label text="" />
                                        </Column>
                                        <Column width="16%" popinDisplay="Inline" demandPopin="true">
                                            <Label text="{i18n>LABEL_00210}" />
                                        </Column>
                                        <Column width="18%" popinDisplay="Inline" demandPopin="true">
                                            <Label text="{i18n>LABEL_00209}" />
                                        </Column>
                                        <Column width="12%" popinDisplay="Inline">
                                            <Label text="{i18n>LABEL_00214}" />
                                        </Column>
                                        <Column popinDisplay="Inline" minScreenWidth="Tablet">
                                            <Label text="{i18n>LABEL_00218}" />
                                        </Column>
                                        <Column width="20%" popinDisplay="Inline" minScreenWidth="Tablet">
                                            <Label text="{i18n>LABEL_00221}" />
                                        </Column>
                                    </suggestionColumns>
                                    <suggestionRows>
                                        <ColumnListItem>
                                            <cells>
                                                <Image src="{Picurl}" mode="Background" class="members-photo sapUiTinyMarginEnd" error=".loadErrorAvatarImage">
                                                    <layoutData>
                                                        <FlexItemData minHeight="30px" maxHeight="30px" />
                                                    </layoutData>
                                                </Image>
                                                <Label text="{Ename}" />
                                                <Label text="{Pernr}" />
                                                <Label text="{Zzcaltltx}" />
                                                <Label text="{Orgtx}" />
                                                <Label text="{ path: 'Gbdat', type: 'sap.ui.tesna.mvc.model.type.Date' }" />
                                            </cells>
                                        </ColumnListItem>
                                    </suggestionRows>
                                </Input>
                            </HBox>
                        </VBox>
                    </table:template>
                </table:Column>
                <table:Column width="auto">
                    <Label text="{i18n>LABEL_00214}"/>
                    <table:template>
                        <Text text="{Zzcaltltx}" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="auto">
                    <Label text="{i18n>LABEL_00217}"/>
                    <table:template>
                        <Text text="{Zzpsgrptx}" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="14%">
                    <Label text="{i18n>LABEL_00219}"/>
                    <table:template>
                        <Text text="{Orgtx}" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="auto">
                    <Label text="{i18n>LABEL_00190}"/>
                    <table:template>
                        <Text text="{Appsttx}" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="auto">
                    <Label text="{i18n>LABEL_00170}"/>
                    <table:template>
                        <Text text="{ path: 'Sgnda', type: 'sap.ui.tesna.mvc.model.type.Date' }" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="auto">
                    <Label text="{i18n>LABEL_00180}"/>
                    <table:template>
                        <Text text="{ path: 'Sgntm', type: 'sap.ui.tesna.mvc.model.type.Time', formatOptions: { pattern: 'HH:mm' } }" width="100%" textAlign="Center" />
                    </table:template>
                </table:Column>
                <table:Column width="25%" visible="{/settings/activeInput}">
                    <Label text="Comments" />
                    <table:template>
                        <Input value="{Comnt}" width="100%" editable="{enabledComments}" />
                    </table:template>
                </table:Column>
                <table:Column width="25%" visible="{= !${/settings/activeInput} }">
                    <Label text="Comments" />
                    <table:template>
                        <Text width="100%" text="{Comnt}" />
                    </table:template>
                </table:Column>
            </table:columns>
        </table:Table>
    </VBox>
</core:FragmentDefinition>